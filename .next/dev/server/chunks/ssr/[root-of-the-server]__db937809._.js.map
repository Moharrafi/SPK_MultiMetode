{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/lib/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { User, Notification, ActivityEntry } from \"./spk-types\"\n\ninterface AuthContextType {\n  user: User | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  notifications: Notification[]\n  activities: ActivityEntry[]\n  unreadCount: number\n  appName: string\n  appSubtitle: string\n  appLogoUrl: string\n  sidebarCollapsed: boolean\n  reportSettings: {\n    organizationName: string\n    location: string\n    leaderName: string\n    leaderTitle: string\n  }\n  login: (email: string, password: string) => Promise<boolean>\n  register: (name: string, email: string, password: string) => Promise<boolean>\n  logout: () => void\n  updateProfile: (data: Partial<User>) => void\n  updateAppSettings: (name: string, subtitle: string, logoUrl: string) => void\n  updateReportSettings: (settings: AuthContextType[\"reportSettings\"]) => void\n  setSidebarCollapsed: (collapsed: boolean) => void\n  markNotificationRead: (id: string) => void\n  markAllNotificationsRead: () => void\n  addNotification: (notification: Omit<Notification, \"id\" | \"read\" | \"createdAt\">) => void\n  logActivity: (actionKey: string, userIdOverride?: string) => void\n  deleteNotification: (id: string) => void\n  clearAllNotifications: () => void\n  hasPermission: (permission: \"view\" | \"edit\" | \"delete\" | \"manage_users\") => boolean\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null)\n\nconst NOTIFICATIONS_STORAGE_KEY = \"spk_notifications\"\nconst USER_PROFILES_STORAGE_KEY = \"spk_user_profiles\"\nconst ACTIVITIES_STORAGE_KEY = \"spk_activities\"\nconst MAX_ACTIVITY_ENTRIES = 50\n\ntype StoredNotification = Omit<Notification, \"createdAt\"> & { createdAt: string }\ntype StoredActivity = Omit<ActivityEntry, \"createdAt\"> & { createdAt: string }\n\nconst deserializeNotifications = (value: string): Notification[] => {\n  try {\n    const parsed = JSON.parse(value) as StoredNotification[]\n    return parsed.map((notif) => ({\n      ...notif,\n      createdAt: notif.createdAt ? new Date(notif.createdAt) : new Date(),\n    }))\n  } catch (error) {\n    console.error(\"Failed to parse notifications\", error)\n    return []\n  }\n}\n\nconst deserializeActivities = (value: string): ActivityEntry[] => {\n  try {\n    const parsed = JSON.parse(value) as StoredActivity[]\n    return parsed.map((item) => ({\n      ...item,\n      createdAt: item.createdAt ? new Date(item.createdAt) : new Date(),\n    }))\n  } catch (error) {\n    console.error(\"Failed to parse activities\", error)\n    return []\n  }\n}\n\ntype ProfileOverrides = Record<\n  string,\n  {\n    nama?: string\n    email?: string\n  }\n>\n\nconst getUserAvatarKey = (userId: string) => `spk_user_avatar_${userId}`\n\nconst loadUserAvatar = (userId: string): string | null => {\n  if (typeof window === \"undefined\") return null\n  try {\n    return localStorage.getItem(getUserAvatarKey(userId))\n  } catch (error) {\n    console.error(\"Failed to load user avatar\", error)\n    return null\n  }\n}\n\nconst saveUserAvatar = (userId: string, avatar?: string) => {\n  try {\n    const key = getUserAvatarKey(userId)\n    if (!avatar) {\n      localStorage.removeItem(key)\n      return\n    }\n    const maxSize = 512 * 1024 // 512KB\n    if (avatar.length > maxSize) {\n      console.warn(\"Avatar too large, skipping save\")\n      return\n    }\n    localStorage.setItem(key, avatar)\n  } catch (error) {\n    console.error(\"Failed to save avatar\", error)\n  }\n}\n\nconst loadProfileOverrides = (): ProfileOverrides => {\n  if (typeof window === \"undefined\") return {}\n  try {\n    const raw = localStorage.getItem(USER_PROFILES_STORAGE_KEY)\n    return raw ? (JSON.parse(raw) as ProfileOverrides) : {}\n  } catch (error) {\n    console.error(\"Failed to load profile overrides\", error)\n    return {}\n  }\n}\n\nconst saveProfileOverrides = (overrides: ProfileOverrides) => {\n  try {\n    const stringified = JSON.stringify(overrides)\n    if (stringified.length > 2 * 1024 * 1024) {\n      console.warn(\"Profile overrides payload is too large, clearing storage\")\n      localStorage.removeItem(USER_PROFILES_STORAGE_KEY)\n      return\n    }\n    localStorage.setItem(USER_PROFILES_STORAGE_KEY, stringified)\n  } catch (error) {\n    console.error(\"Failed to save profile overrides\", error)\n    try {\n      localStorage.removeItem(USER_PROFILES_STORAGE_KEY)\n    } catch (removeError) {\n      console.error(\"Failed to clear profile overrides storage\", removeError)\n    }\n  }\n}\n\nconst parseStoredUser = (value: string | null): User | null => {\n  if (!value) return null\n  try {\n    const parsed = JSON.parse(value) as User\n    if (parsed.createdAt) {\n      parsed.createdAt = new Date(parsed.createdAt)\n    }\n    if (parsed.id) {\n      const avatar = loadUserAvatar(parsed.id)\n      if (avatar) {\n        parsed.avatar = avatar\n      }\n    }\n    return parsed\n  } catch (error) {\n    console.error(\"Failed to parse stored user\", error)\n    return null\n  }\n}\n\n// Sample users for demo\nconst sampleUsers: User[] = [\n  {\n    id: \"1\",\n    nama: \"Administrator\",\n    email: \"admin@spk.com\",\n    password: \"admin123\",\n    role: \"admin\",\n    createdAt: new Date(),\n  },\n  {\n    id: \"2\",\n    nama: \"Analis SPK\",\n    email: \"analis@spk.com\",\n    password: \"analis123\",\n    role: \"analis\",\n    createdAt: new Date(),\n  },\n  {\n    id: \"3\",\n    nama: \"Viewer SPK\",\n    email: \"viewer@spk.com\",\n    password: \"viewer123\",\n    role: \"viewer\",\n    createdAt: new Date(),\n  },\n]\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [activities, setActivities] = useState<ActivityEntry[]>([])\n  const [appName, setAppName] = useState(\"SPK Multi-Metode\")\n  const [appSubtitle, setAppSubtitle] = useState(\"SAW | AHP | TOPSIS\")\n  const [appLogoUrl, setAppLogoUrl] = useState(\"\")\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [reportSettings, setReportSettings] = useState({\n    organizationName: \"Sistem Pendukung Keputusan Multi Metode\",\n    location: \"Jakarta\",\n    leaderName: \"Nama Ketua\",\n    leaderTitle: \"NIP. 123456789\",\n  })\n\n  const persistCurrentUser = (value: User | null) => {\n    if (!value) return\n    if (value.avatar) {\n      saveUserAvatar(value.id, value.avatar)\n    } else {\n      saveUserAvatar(value.id, undefined)\n    }\n    const { avatar: _avatar, ...rest } = value\n    const serialized = {\n      ...rest,\n      createdAt: value.createdAt ? new Date(value.createdAt).toISOString() : new Date().toISOString(),\n    }\n    try {\n      localStorage.setItem(\"spk_user\", JSON.stringify(serialized))\n    } catch (error) {\n      console.warn(\"Failed to persist user\", error)\n      try {\n        localStorage.removeItem(\"spk_user\")\n      } catch (removeError) {\n        console.warn(\"Failed to clear user storage\", removeError)\n      }\n    }\n  }\n\n  useEffect(() => {\n    // Check for saved session\n    const savedUser = parseStoredUser(localStorage.getItem(\"spk_user\"))\n    if (savedUser) {\n      setUser(savedUser)\n    }\n\n    const savedAppSettings = localStorage.getItem(\"spk_app_settings\")\n    if (savedAppSettings) {\n      const parsed = JSON.parse(savedAppSettings)\n      setAppName(parsed.appName || \"SPK Multi-Metode\")\n      setAppSubtitle(parsed.appSubtitle || \"SAW | AHP | TOPSIS\")\n      setAppLogoUrl(parsed.appLogoUrl || \"\")\n    }\n\n    const savedSidebarCollapsed = localStorage.getItem(\"spk_sidebar_collapsed\")\n    const savedReportSettings = localStorage.getItem(\"spk_report_settings\")\n    const savedNotifications = localStorage.getItem(NOTIFICATIONS_STORAGE_KEY)\n\n    if (savedSidebarCollapsed) setSidebarCollapsed(savedSidebarCollapsed === \"true\")\n    if (savedReportSettings) setReportSettings(JSON.parse(savedReportSettings))\n    if (savedNotifications) {\n      setNotifications(deserializeNotifications(savedNotifications))\n    }\n    setIsLoading(false)\n  }, [])\n\n  useEffect(() => {\n    const savedActivities = localStorage.getItem(ACTIVITIES_STORAGE_KEY)\n    if (savedActivities) {\n      setActivities(deserializeActivities(savedActivities))\n    }\n  }, [])\n\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === \"spk_app_settings\" && e.newValue) {\n        const parsed = JSON.parse(e.newValue)\n        setAppName(parsed.appName || \"SPK Multi-Metode\")\n        setAppSubtitle(parsed.appSubtitle || \"SAW | AHP | TOPSIS\")\n        setAppLogoUrl(parsed.appLogoUrl || \"\")\n      }\n      if (e.key === NOTIFICATIONS_STORAGE_KEY) {\n        if (e.newValue) {\n          setNotifications(deserializeNotifications(e.newValue))\n        } else {\n          setNotifications([])\n        }\n      }\n      if (e.key === USER_PROFILES_STORAGE_KEY && user) {\n        const overrides = loadProfileOverrides()[user.id]\n        if (overrides) {\n          setUser((prev) => (prev ? { ...prev, ...overrides } : prev))\n        }\n      }\n    }\n\n    window.addEventListener(\"storage\", handleStorageChange)\n    return () => window.removeEventListener(\"storage\", handleStorageChange)\n  }, [user])\n\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    const foundUser = sampleUsers.find((u) => u.email === email && u.password === password)\n    if (foundUser) {\n      const overrides = loadProfileOverrides()[foundUser.id]\n      const mergedUser: User = {\n        ...foundUser,\n        ...(overrides || {}),\n        avatar: loadUserAvatar(foundUser.id) || foundUser.avatar,\n      }\n      setUser(mergedUser)\n      persistCurrentUser(mergedUser)\n      void syncProfileFromServer(foundUser.id)\n      logActivity(\"activity.login\", foundUser.id)\n      return true\n    }\n    return false\n  }\n\n  const register = async (name: string, email: string, password: string): Promise<boolean> => {\n    const existingUser = sampleUsers.find((u) => u.email === email)\n    if (existingUser) {\n      return false\n    }\n\n    const newUser: User = {\n      id: Date.now().toString(),\n      nama: name,\n      email,\n      password,\n      role: \"viewer\",\n      createdAt: new Date(),\n    }\n\n    sampleUsers.push(newUser)\n    setUser(newUser)\n    persistCurrentUser(newUser)\n    void syncProfileFromServer(newUser.id)\n    logActivity(\"activity.register\", newUser.id)\n    return true\n  }\n\n  const logout = () => {\n    if (user?.id) {\n      logActivity(\"activity.logout\", user.id)\n    }\n    setUser(null)\n    localStorage.removeItem(\"spk_user\")\n  }\n\n  const updateProfile = (data: Partial<User>) => {\n    if (user) {\n      const updated = { ...user, ...data }\n      setUser(updated)\n      persistCurrentUser(updated)\n      const overrides = loadProfileOverrides()\n      overrides[updated.id] = {\n        ...(overrides[updated.id] || {}),\n        ...(data.nama !== undefined ? { nama: data.nama } : {}),\n        ...(data.email !== undefined ? { email: data.email } : {}),\n      }\n      if (data.avatar !== undefined) {\n        saveUserAvatar(updated.id, data.avatar || undefined)\n      }\n      saveProfileOverrides(overrides)\n      void persistProfileToServer(updated.id, {\n        nama: data.nama,\n        email: data.email,\n        avatar: data.avatar,\n      })\n      logActivity(\"activity.profile_updated\", updated.id)\n      const sampleIdx = sampleUsers.findIndex((u) => u.id === updated.id)\n      if (sampleIdx !== -1) {\n        sampleUsers[sampleIdx] = { ...sampleUsers[sampleIdx], ...overrides[updated.id] }\n        if (data.avatar !== undefined) {\n          sampleUsers[sampleIdx].avatar = data.avatar\n        }\n      }\n    }\n  }\n\n  async function syncProfileFromServer(userId: string) {\n    try {\n      const response = await fetch(`/api/profile/${userId}`)\n      if (!response.ok) return\n      const data = (await response.json()) as Partial<User>\n      if (!data) return\n      setUser((prev) => {\n        if (!prev || prev.id !== userId) return prev\n        const merged = { ...prev, ...data }\n        if (data.avatar !== undefined) {\n          saveUserAvatar(userId, data.avatar || undefined)\n        }\n        return merged\n      })\n      const overrides = loadProfileOverrides()\n      overrides[userId] = {\n        ...(overrides[userId] || {}),\n        ...(data.nama ? { nama: data.nama } : {}),\n        ...(data.email ? { email: data.email } : {}),\n      }\n      saveProfileOverrides(overrides)\n    } catch (error) {\n      console.error(\"Failed to sync profile from server\", error)\n    }\n  }\n\n  async function persistProfileToServer(\n    userId: string,\n    data: { nama?: string; email?: string; avatar?: string },\n  ) {\n    try {\n      await fetch(`/api/profile/${userId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      })\n    } catch (error) {\n      console.error(\"Failed to save profile overrides\", error)\n    }\n  }\n\n  useEffect(() => {\n    if (user?.id) {\n      void syncProfileFromServer(user.id)\n    }\n  }, [user?.id])\n\n  const updateAppSettings = (name: string, subtitle: string, logoUrl: string) => {\n    setAppName(name)\n    setAppSubtitle(subtitle)\n    setAppLogoUrl(logoUrl)\n    localStorage.setItem(\n      \"spk_app_settings\",\n      JSON.stringify({ appName: name, appSubtitle: subtitle, appLogoUrl: logoUrl }),\n    )\n    logActivity(\"activity.settings_updated\")\n  }\n\n  const updateReportSettings = (settings: typeof reportSettings) => {\n    setReportSettings(settings)\n    localStorage.setItem(\"spk_report_settings\", JSON.stringify(settings))\n    logActivity(\"activity.settings_updated\")\n  }\n\n  const handleSetSidebarCollapsed = (collapsed: boolean) => {\n    setSidebarCollapsed(collapsed)\n    localStorage.setItem(\"spk_sidebar_collapsed\", String(collapsed))\n  }\n\n  const persistNotifications = (items: Notification[]) => {\n    try {\n      if (items.length === 0) {\n        localStorage.removeItem(NOTIFICATIONS_STORAGE_KEY)\n      } else {\n        localStorage.setItem(\n          NOTIFICATIONS_STORAGE_KEY,\n          JSON.stringify(items.map((notif) => ({ ...notif, createdAt: notif.createdAt.toISOString() }))),\n        )\n      }\n    } catch (error) {\n      console.error(\"Failed to save notifications\", error)\n    }\n  }\n\n  const persistActivities = (items: ActivityEntry[]) => {\n    try {\n      if (items.length === 0) {\n        localStorage.removeItem(ACTIVITIES_STORAGE_KEY)\n      } else {\n        localStorage.setItem(\n          ACTIVITIES_STORAGE_KEY,\n          JSON.stringify(items.map((item) => ({ ...item, createdAt: item.createdAt.toISOString() }))),\n        )\n      }\n    } catch (error) {\n      console.error(\"Failed to save activities\", error)\n    }\n  }\n\n  const logActivity = (actionKey: string, userIdOverride?: string) => {\n    const targetUserId = userIdOverride || user?.id\n    if (!targetUserId) return\n    const newActivity: ActivityEntry = {\n      id: `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      userId: targetUserId,\n      actionKey,\n      createdAt: new Date(),\n    }\n    setActivities((prev) => {\n      const next = [newActivity, ...prev].slice(0, MAX_ACTIVITY_ENTRIES)\n      persistActivities(next)\n      return next\n    })\n  }\n\n  const updateNotificationsState = (updater: (prev: Notification[]) => Notification[]) => {\n    setNotifications((prev) => {\n      const next = updater(prev)\n      persistNotifications(next)\n      return next\n    })\n  }\n\n  const markNotificationRead = (id: string) => {\n    updateNotificationsState((prev) => prev.map((n) => (n.id === id ? { ...n, read: true } : n)))\n  }\n\n  const markAllNotificationsRead = () => {\n    updateNotificationsState((prev) => prev.map((n) => ({ ...n, read: true })))\n  }\n\n  const deleteNotification = (id: string) => {\n    updateNotificationsState((prev) => prev.filter((n) => n.id !== id))\n  }\n\n  const clearAllNotifications = () => {\n    updateNotificationsState(() => [])\n  }\n\n  const addNotification = (notification: Omit<Notification, \"id\" | \"read\" | \"createdAt\">) => {\n    const newNotif: Notification = {\n      ...notification,\n      id: Date.now().toString(),\n      read: false,\n      createdAt: new Date(),\n    }\n    updateNotificationsState((prev) => [newNotif, ...prev])\n  }\n\n  const hasPermission = (permission: \"view\" | \"edit\" | \"delete\" | \"manage_users\"): boolean => {\n    if (!user) return false\n\n    const rolePermissions = {\n      admin: [\"view\", \"edit\", \"delete\", \"manage_users\"],\n      analis: [\"view\", \"edit\"],\n      viewer: [\"view\"],\n    }\n\n    return rolePermissions[user.role]?.includes(permission) ?? false\n  }\n\n  const unreadCount = notifications.filter((n) => !n.read).length\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        notifications,\n        activities,\n        unreadCount,\n        appName,\n        appSubtitle,\n        appLogoUrl,\n        sidebarCollapsed,\n        reportSettings,\n        login,\n        register,\n        logout,\n        updateProfile,\n        updateAppSettings,\n        updateReportSettings,\n        setSidebarCollapsed: handleSetSidebarCollapsed,\n        markNotificationRead,\n        markAllNotificationsRead,\n        addNotification,\n        logActivity,\n        deleteNotification,\n        clearAllNotifications,\n        hasPermission,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/components/ui/ios-toast.tsx"],"sourcesContent":["\"use client\"\n\nimport type * as React from \"react\"\nimport { createContext, useContext, useState, useCallback } from \"react\"\nimport { CheckCircle, AlertCircle, Info, AlertTriangle } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ntype ToastType = \"success\" | \"error\" | \"info\" | \"warning\"\n\ninterface Toast {\n  id: string\n  title?: string\n  message: string\n  type: ToastType\n}\n\ninterface ToastOptions {\n  title?: string\n  message: string\n  type?: ToastType\n}\n\ninterface ToastContextType {\n  showToast: (options: ToastOptions | string, type?: ToastType) => void\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined)\n\nexport function useToast() {\n  const context = useContext(ToastContext)\n  if (!context) {\n    throw new Error(\"useToast must be used within a ToastProvider\")\n  }\n  return context\n}\n\nexport function useIOSToast() {\n  const context = useContext(ToastContext)\n  if (!context) {\n    throw new Error(\"useIOSToast must be used within a ToastProvider\")\n  }\n  return context\n}\n\nconst icons = {\n  success: CheckCircle,\n  error: AlertCircle,\n  info: Info,\n  warning: AlertTriangle,\n}\n\nconst styles = {\n  success: \"bg-emerald-500\",\n  error: \"bg-red-500\",\n  info: \"bg-blue-500\",\n  warning: \"bg-amber-500\",\n}\n\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([])\n\n  const showToast = useCallback((options: ToastOptions | string, type: ToastType = \"success\") => {\n    const id = Math.random().toString(36).substr(2, 9)\n\n    let toast: Toast\n    if (typeof options === \"string\") {\n      toast = { id, message: options, type }\n    } else {\n      toast = { id, title: options.title, message: options.message, type: options.type || \"success\" }\n    }\n\n    setToasts((prev) => [...prev, toast])\n\n    setTimeout(() => {\n      setToasts((prev) => prev.filter((t) => t.id !== id))\n    }, 3000)\n  }, [])\n\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((t) => t.id !== id))\n  }, [])\n\n  return (\n    <ToastContext.Provider value={{ showToast }}>\n      {children}\n      {/* Toast Container - iPhone style centered */}\n      <div className=\"fixed top-20 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 pointer-events-none px-4 w-full max-w-md\">\n        {toasts.map((toast, index) => {\n          const Icon = icons[toast.type]\n          return (\n            <div\n              key={toast.id}\n              className={cn(\n                \"pointer-events-auto flex items-center justify-center gap-2 px-3 py-2 md:px-4 md:py-2.5 rounded-2xl md:rounded-full shadow-2xl\",\n                \"animate-in fade-in slide-in-from-top-4 duration-300\",\n                \"backdrop-blur-xl bg-foreground/90 text-background\",\n                \"w-full\",\n              )}\n              style={{\n                animationDelay: `${index * 50}ms`,\n              }}\n            >\n              <div className={cn(\"p-1 rounded-full flex-shrink-0\", styles[toast.type])}>\n                <Icon className=\"h-3.5 w-3.5 md:h-4 md:w-4 text-white\" />\n              </div>\n              <div className=\"flex-1 min-w-0 text-center\">\n                {toast.title && <p className=\"text-xs md:text-sm font-semibold\">{toast.title}</p>}\n                <span\n                  className={cn(\"text-xs md:text-sm block\", toast.title ? \"font-normal opacity-90\" : \"font-medium\")}\n                >\n                  {toast.message}\n                </span>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </ToastContext.Provider>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AALA;;;;;AA0BA,MAAM,6BAAe,IAAA,qVAAa,EAA+B;AAE1D,SAAS;IACd,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEA,MAAM,QAAQ;IACZ,SAAS,8TAAW;IACpB,OAAO,uTAAW;IAClB,MAAM,8RAAI;IACV,SAAS,6TAAa;AACxB;AAEA,MAAM,SAAS;IACb,SAAS;IACT,OAAO;IACP,MAAM;IACN,SAAS;AACX;AAEO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAU,EAAE;IAEhD,MAAM,YAAY,IAAA,mVAAW,EAAC,CAAC,SAAgC,OAAkB,SAAS;QACxF,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;QAEhD,IAAI;QACJ,IAAI,OAAO,YAAY,UAAU;YAC/B,QAAQ;gBAAE;gBAAI,SAAS;gBAAS;YAAK;QACvC,OAAO;YACL,QAAQ;gBAAE;gBAAI,OAAO,QAAQ,KAAK;gBAAE,SAAS,QAAQ,OAAO;gBAAE,MAAM,QAAQ,IAAI,IAAI;YAAU;QAChG;QAEA,UAAU,CAAC,OAAS;mBAAI;gBAAM;aAAM;QAEpC,WAAW;YACT,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAClD,GAAG;IACL,GAAG,EAAE;IAEL,MAAM,cAAc,IAAA,mVAAW,EAAC,CAAC;QAC/B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAClD,GAAG,EAAE;IAEL,qBACE,6WAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;QAAU;;YACvC;0BAED,6WAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,OAAO;oBAClB,MAAM,OAAO,KAAK,CAAC,MAAM,IAAI,CAAC;oBAC9B,qBACE,6WAAC;wBAEC,WAAW,IAAA,kHAAE,EACX,iIACA,uDACA,qDACA;wBAEF,OAAO;4BACL,gBAAgB,GAAG,QAAQ,GAAG,EAAE,CAAC;wBACnC;;0CAEA,6WAAC;gCAAI,WAAW,IAAA,kHAAE,EAAC,kCAAkC,MAAM,CAAC,MAAM,IAAI,CAAC;0CACrE,cAAA,6WAAC;oCAAK,WAAU;;;;;;;;;;;0CAElB,6WAAC;gCAAI,WAAU;;oCACZ,MAAM,KAAK,kBAAI,6WAAC;wCAAE,WAAU;kDAAoC,MAAM,KAAK;;;;;;kDAC5E,6WAAC;wCACC,WAAW,IAAA,kHAAE,EAAC,4BAA4B,MAAM,KAAK,GAAG,2BAA2B;kDAElF,MAAM,OAAO;;;;;;;;;;;;;uBAnBb,MAAM,EAAE;;;;;gBAwBnB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/lib/language-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\n\ntype Language = \"id\" | \"en\"\n\ninterface Translations {\n  [key: string]: {\n    id: string\n    en: string\n  }\n}\n\nconst translations: Translations = {\n  // Navigation\n  \"nav.dashboard\": { id: \"Dashboard\", en: \"Dashboard\" },\n  \"nav.data_master\": { id: \"Data Master\", en: \"Master Data\" },\n  \"nav.alternatif\": { id: \"Data Alternatif\", en: \"Alternatives\" },\n  \"nav.kriteria\": { id: \"Data Kriteria\", en: \"Criteria\" },\n  \"nav.sub_kriteria\": { id: \"Sub-Kriteria\", en: \"Sub-Criteria\" },\n  \"nav.skala\": { id: \"Skala Penilaian\", en: \"Rating Scale\" },\n  \"nav.metode\": { id: \"Manajemen Metode\", en: \"Method Management\" },\n  \"nav.penilaian\": { id: \"Penilaian\", en: \"Assessment\" },\n  \"nav.perhitungan\": { id: \"Perhitungan\", en: \"Calculation\" },\n  \"nav.modul_saw\": { id: \"Modul SAW\", en: \"SAW Module\" },\n  \"nav.modul_ahp\": { id: \"Modul AHP\", en: \"AHP Module\" },\n  \"nav.modul_topsis\": { id: \"Modul TOPSIS\", en: \"TOPSIS Module\" },\n  \"nav.hasil\": { id: \"Hasil & Ranking\", en: \"Results & Ranking\" },\n  \"nav.hasil_per_metode\": { id: \"Hasil per Metode\", en: \"Results by Method\" },\n  \"nav.perbandingan\": { id: \"Perbandingan Metode\", en: \"Method Comparison\" },\n  \"nav.ranking_gabungan\": { id: \"Ranking Gabungan\", en: \"Combined Ranking\" },\n  \"nav.laporan\": { id: \"Laporan\", en: \"Reports\" },\n  \"nav.pengguna\": { id: \"Manajemen Pengguna\", en: \"User Management\" },\n  \"nav.profil\": { id: \"Profil Saya\", en: \"My Profile\" },\n  \"nav.pengaturan\": { id: \"Pengaturan\", en: \"Settings\" },\n\n  // Dashboard\n  \"dashboard.title\": { id: \"Dashboard\", en: \"Dashboard\" },\n  \"dashboard.welcome\": {\n    id: \"Selamat datang di Sistem Pendukung Keputusan Multi-Metode\",\n    en: \"Welcome to Multi-Method Decision Support System\",\n  },\n  \"dashboard.total_alternatif\": { id: \"Total Alternatif\", en: \"Total Alternatives\" },\n  \"dashboard.total_kriteria\": { id: \"Total Kriteria\", en: \"Total Criteria\" },\n  \"dashboard.metode_aktif\": { id: \"Metode Aktif\", en: \"Active Methods\" },\n  \"dashboard.total_metode\": { id: \"Total Metode\", en: \"Total Methods\" },\n  \"dashboard.quick_actions\": { id: \"Aksi Cepat\", en: \"Quick Actions\" },\n  \"dashboard.top_ranking\": { id: \"Peringkat Teratas\", en: \"Top Ranking\" },\n  \"dashboard.top_ranking_per_metode\": { id: \"Peringkat Tertinggi per Metode\", en: \"Top Ranking by Method\" },\n  \"dashboard.method_comparison\": { id: \"Perbandingan Metode\", en: \"Method Comparison\" },\n  \"dashboard.method_value_comparison\": { id: \"Perbandingan Nilai Antar Metode\", en: \"Method Value Comparison\" },\n  \"dashboard.recent_activity\": { id: \"Aktivitas Terbaru\", en: \"Recent Activity\" },\n  \"dashboard.system_status\": { id: \"Status Sistem\", en: \"System Status\" },\n  \"dashboard.new\": { id: \"baru\", en: \"new\" },\n  \"dashboard.weight\": { id: \"Bobot\", en: \"Weight\" },\n  \"dashboard.value\": { id: \"Nilai\", en: \"Score\" },\n\n  // Quick Actions\n  \"quick.penilaian\": { id: \"Penilaian\", en: \"Assessment\" },\n  \"quick.penilaian_desc\": { id: \"Input nilai alternatif\", en: \"Input alternative values\" },\n  \"quick.metode\": { id: \"Manajemen Metode\", en: \"Method Management\" },\n  \"quick.metode_desc\": { id: \"Atur metode SPK\", en: \"Configure DSS methods\" },\n  \"quick.perhitungan\": { id: \"Perhitungan\", en: \"Calculation\" },\n  \"quick.perhitungan_desc\": { id: \"Proses kalkulasi\", en: \"Process calculations\" },\n  \"quick.laporan\": { id: \"Laporan\", en: \"Reports\" },\n  \"quick.laporan_desc\": { id: \"Export hasil\", en: \"Export results\" },\n\n  // Stats\n  \"stats.from_last_month\": { id: \"dari bulan lalu\", en: \"from last month\" },\n  \"stats.data_ready\": { id: \"data siap diproses\", en: \"data ready to process\" },\n  \"stats.calculation_done\": { id: \"perhitungan selesai\", en: \"calculations completed\" },\n  \"stats.consistency_level\": { id: \"tingkat konsistensi\", en: \"consistency level\" },\n\n  // Common\n  \"common.save\": { id: \"Simpan\", en: \"Save\" },\n  \"common.cancel\": { id: \"Batal\", en: \"Cancel\" },\n  \"common.delete\": { id: \"Hapus\", en: \"Delete\" },\n  \"common.edit\": { id: \"Edit\", en: \"Edit\" },\n  \"common.add\": { id: \"Tambah\", en: \"Add\" },\n  \"common.search\": { id: \"Cari\", en: \"Search\" },\n  \"common.filter\": { id: \"Filter\", en: \"Filter\" },\n  \"common.export\": { id: \"Ekspor\", en: \"Export\" },\n  \"common.import\": { id: \"Impor\", en: \"Import\" },\n  \"common.actions\": { id: \"Aksi\", en: \"Actions\" },\n  \"common.name\": { id: \"Nama\", en: \"Name\" },\n  \"common.value\": { id: \"Nilai\", en: \"Value\" },\n  \"common.status\": { id: \"Status\", en: \"Status\" },\n  \"common.date\": { id: \"Tanggal\", en: \"Date\" },\n  \"common.no_data\": { id: \"Tidak ada data\", en: \"No data\" },\n  \"common.loading\": { id: \"Memuat...\", en: \"Loading...\" },\n  \"common.success\": { id: \"Berhasil\", en: \"Success\" },\n  \"common.error\": { id: \"Gagal\", en: \"Error\" },\n  \"common.warning\": { id: \"Peringatan\", en: \"Warning\" },\n  \"common.info\": { id: \"Informasi\", en: \"Information\" },\n  \"common.confirm\": { id: \"Konfirmasi\", en: \"Confirm\" },\n  \"common.yes\": { id: \"Ya\", en: \"Yes\" },\n  \"common.no\": { id: \"Tidak\", en: \"No\" },\n  \"common.close\": { id: \"Tutup\", en: \"Close\" },\n  \"common.back\": { id: \"Kembali\", en: \"Back\" },\n  \"common.next\": { id: \"Selanjutnya\", en: \"Next\" },\n  \"common.previous\": { id: \"Sebelumnya\", en: \"Previous\" },\n  \"common.finish\": { id: \"Selesai\", en: \"Finish\" },\n  \"common.view_all\": { id: \"Lihat Semua\", en: \"View All\" },\n  \"common.version\": { id: \"Versi\", en: \"Version\" },\n\n  // Settings\n  \"settings.title\": { id: \"Pengaturan\", en: \"Settings\" },\n  \"settings.subtitle\": { id: \"Kelola preferensi dan pengaturan akun\", en: \"Manage preferences and account settings\" },\n  \"settings.app_name\": { id: \"Nama Aplikasi\", en: \"Application Name\" },\n  \"settings.app_name_desc\": { id: \"Ubah nama dan subtitle aplikasi\", en: \"Change app name and subtitle\" },\n  \"settings.app_subtitle\": { id: \"Subtitle\", en: \"Subtitle\" },\n  \"settings.save_app_name\": { id: \"Simpan Nama Aplikasi\", en: \"Save App Name\" },\n  \"settings.appearance\": { id: \"Tampilan\", en: \"Appearance\" },\n  \"settings.appearance_desc\": { id: \"Sesuaikan tampilan aplikasi\", en: \"Customize app appearance\" },\n  \"settings.dark_mode\": { id: \"Mode Gelap\", en: \"Dark Mode\" },\n  \"settings.dark_mode_desc\": { id: \"Aktifkan tema gelap\", en: \"Enable dark theme\" },\n  \"settings.language\": { id: \"Bahasa\", en: \"Language\" },\n  \"settings.language_desc\": { id: \"Pilih bahasa tampilan\", en: \"Select display language\" },\n  \"settings.notifications\": { id: \"Notifikasi\", en: \"Notifications\" },\n  \"settings.notifications_desc\": { id: \"Atur preferensi notifikasi\", en: \"Set notification preferences\" },\n  \"settings.enable_notifications\": { id: \"Aktifkan Notifikasi\", en: \"Enable Notifications\" },\n  \"settings.enable_notifications_desc\": { id: \"Terima notifikasi dari sistem\", en: \"Receive system notifications\" },\n  \"settings.sound\": { id: \"Suara Notifikasi\", en: \"Notification Sound\" },\n  \"settings.sound_desc\": { id: \"Putar suara saat ada notifikasi\", en: \"Play sound for notifications\" },\n  \"settings.data_privacy\": { id: \"Data & Privasi\", en: \"Data & Privacy\" },\n  \"settings.data_privacy_desc\": { id: \"Kelola data dan privasi Anda\", en: \"Manage your data and privacy\" },\n  \"settings.auto_backup\": { id: \"Backup Otomatis\", en: \"Auto Backup\" },\n  \"settings.auto_backup_desc\": { id: \"Backup data secara otomatis\", en: \"Automatically backup data\" },\n  \"settings.backup_frequency\": { id: \"Frekuensi Backup\", en: \"Backup Frequency\" },\n  \"settings.security\": { id: \"Keamanan\", en: \"Security\" },\n  \"settings.security_desc\": { id: \"Kelola keamanan akun\", en: \"Manage account security\" },\n  \"settings.change_password\": { id: \"Ubah Password\", en: \"Change Password\" },\n  \"settings.old_password\": { id: \"Password Lama\", en: \"Old Password\" },\n  \"settings.new_password\": { id: \"Password Baru\", en: \"New Password\" },\n  \"settings.confirm_password\": { id: \"Konfirmasi Password\", en: \"Confirm Password\" },\n  \"settings.dashboard_widgets\": { id: \"Widget Dashboard\", en: \"Dashboard Widgets\" },\n  \"settings.customize_dashboard\": { id: \"Sesuaikan tampilan dashboard\", en: \"Customize dashboard display\" },\n  \"settings.report_settings\": { id: \"Pengaturan Laporan PDF\", en: \"PDF Report Settings\" },\n  \"settings.report_settings_desc\": {\n    id: \"Konfigurasi header dan footer laporan\",\n    en: \"Configure report header and footer\",\n  },\n  \"settings.org_name\": { id: \"Nama Organisasi/Project\", en: \"Organization/Project Name\" },\n  \"settings.location\": { id: \"Lokasi\", en: \"Location\" },\n  \"settings.leader_name\": { id: \"Nama Ketua/Penanggung Jawab\", en: \"Leader/Responsible Person Name\" },\n  \"settings.leader_title\": { id: \"Jabatan/NIP\", en: \"Position/ID\" },\n  \"settings.save_report\": { id: \"Simpan Pengaturan Laporan\", en: \"Save Report Settings\" },\n\n  // Widgets\n  \"widget.stats_cards\": { id: \"Kartu Statistik\", en: \"Stats Cards\" },\n  \"widget.method_chart\": { id: \"Grafik Perbandingan Metode\", en: \"Method Comparison Chart\" },\n  \"widget.quick_actions\": { id: \"Aksi Cepat\", en: \"Quick Actions\" },\n  \"widget.top_ranking\": { id: \"Peringkat Teratas\", en: \"Top Ranking\" },\n  \"widget.recent_activity\": { id: \"Aktivitas Terbaru\", en: \"Recent Activity\" },\n  \"widget.system_status\": { id: \"Status Sistem\", en: \"System Status\" },\n\n  // Auth\n  \"auth.login\": { id: \"Masuk\", en: \"Login\" },\n  \"auth.logout\": { id: \"Keluar\", en: \"Logout\" },\n  \"auth.register\": { id: \"Daftar\", en: \"Register\" },\n  \"auth.email\": { id: \"Email\", en: \"Email\" },\n  \"auth.password\": { id: \"Password\", en: \"Password\" },\n  \"auth.full_name\": { id: \"Nama Lengkap\", en: \"Full Name\" },\n  \"auth.confirm_password\": { id: \"Konfirmasi Password\", en: \"Confirm Password\" },\n  \"auth.welcome\": { id: \"Selamat Datang\", en: \"Welcome\" },\n  \"auth.register_title\": { id: \"Buat Akun Baru\", en: \"Create New Account\" },\n  \"auth.register_subtitle\": { id: \"Daftar untuk mengakses sistem\", en: \"Sign up to access the system\" },\n  \"auth.login_subtitle\": { id: \"Masuk ke akun Anda untuk melanjutkan\", en: \"Sign in to your account to continue\" },\n  \"auth.demo_accounts\": { id: \"Akun Demo\", en: \"Demo Accounts\" },\n  \"auth.back_to_login\": { id: \"Kembali ke Login\", en: \"Back to Login\" },\n  \"auth.already_have_account\": { id: \"Sudah punya akun?\", en: \"Already have an account?\" },\n  \"auth.dont_have_account\": { id: \"Belum punya akun?\", en: \"Don't have an account?\" },\n  \"auth.sign_in_here\": { id: \"Masuk di sini\", en: \"Sign in here\" },\n  \"auth.register_here\": { id: \"Daftar di sini\", en: \"Register here\" },\n  \"auth.logout_confirm\": {\n    id: \"Anda akan keluar dari akun Anda. Pastikan semua perubahan telah tersimpan sebelum melanjutkan.\",\n    en: \"You will be logged out of your account. Make sure all changes have been saved before continuing.\",\n  },\n  \"auth.logout_title\": { id: \"Keluar dari Sistem?\", en: \"Log Out of System?\" },\n  \"auth.yes_logout\": { id: \"Ya, Keluar\", en: \"Yes, Log Out\" },\n\n  // Backup\n  \"backup.daily\": { id: \"Harian\", en: \"Daily\" },\n  \"backup.weekly\": { id: \"Mingguan\", en: \"Weekly\" },\n  \"backup.monthly\": { id: \"Bulanan\", en: \"Monthly\" },\n  \"backup.last_backup\": { id: \"Backup Terakhir\", en: \"Last Backup\" },\n  \"backup.next_backup\": { id: \"Backup Selanjutnya\", en: \"Next Backup\" },\n  \"backup.backup_now\": { id: \"Backup Sekarang\", en: \"Backup Now\" },\n  \"backup.success\": { id: \"Backup berhasil dilakukan\", en: \"Backup completed successfully\" },\n  \"backup.never\": { id: \"Belum pernah\", en: \"Never\" },\n\n  // Profile\n  \"profile.title\": { id: \"Profil Saya\", en: \"My Profile\" },\n  \"profile.subtitle\": { id: \"Kelola informasi profil akun Anda\", en: \"Manage your account profile information\" },\n  \"profile.personal_info\": { id: \"Informasi Pribadi\", en: \"Personal Information\" },\n  \"profile.personal_info_desc\": { id: \"Ubah informasi profil Anda\", en: \"Update your profile information\" },\n  \"profile.full_name\": { id: \"Nama Lengkap\", en: \"Full Name\" },\n  \"profile.role\": { id: \"Role\", en: \"Role\" },\n  \"profile.role_note\": { id: \"Role tidak dapat diubah sendiri\", en: \"Role cannot be changed by yourself\" },\n  \"profile.registered_since\": { id: \"Terdaftar Sejak\", en: \"Registered Since\" },\n  \"profile.save_changes\": { id: \"Simpan Perubahan\", en: \"Save Changes\" },\n\n  // Header dropdown\n  \"header.profile\": { id: \"Profil Saya\", en: \"My Profile\" },\n  \"header.settings\": { id: \"Pengaturan\", en: \"Settings\" },\n  \"header.logout\": { id: \"Keluar\", en: \"Logout\" },\n\n  // System Status\n  \"system.server_status\": { id: \"Status Server\", en: \"Server Status\" },\n  \"system.online\": { id: \"Online\", en: \"Online\" },\n  \"system.database\": { id: \"Database\", en: \"Database\" },\n  \"system.connected\": { id: \"Terhubung\", en: \"Connected\" },\n  \"system.last_sync\": { id: \"Sinkronisasi Terakhir\", en: \"Last Sync\" },\n  \"system.just_now\": { id: \"Baru saja\", en: \"Just now\" },\n  \"system.backup_status\": { id: \"Status Backup\", en: \"Backup Status\" },\n  \"system.active\": { id: \"Aktif\", en: \"Active\" },\n  \"system.inactive\": { id: \"Nonaktif\", en: \"Inactive\" },\n\n  // Recent Activity\n  \"activity.calculation_complete\": { id: \"Perhitungan selesai\", en: \"Calculation complete\" },\n  \"activity.data_added\": { id: \"Data ditambahkan\", en: \"Data added\" },\n  \"activity.backup_complete\": { id: \"Backup selesai\", en: \"Backup complete\" },\n  \"activity.settings_updated\": { id: \"Pengaturan diperbarui\", en: \"Settings updated\" },\n  \"activity.login\": { id: \"Login ke sistem\", en: \"Logged into system\" },\n  \"activity.logout\": { id: \"Logout dari sistem\", en: \"Logged out\" },\n  \"activity.register\": { id: \"Registrasi akun\", en: \"Registered account\" },\n  \"activity.profile_updated\": { id: \"Profil diperbarui\", en: \"Profile updated\" },\n  \"activity.report_exported_pdf\": { id: \"Export laporan PDF\", en: \"Exported PDF report\" },\n  \"activity.report_exported_excel\": { id: \"Export laporan Excel\", en: \"Exported Excel report\" },\n  \"activity.report_exported_all_pdf\": { id: \"Export semua laporan PDF\", en: \"Exported all PDF reports\" },\n  \"activity.report_exported_all_excel\": { id: \"Export semua laporan Excel\", en: \"Exported all Excel reports\" },\n  \"activity.alternative_added\": { id: \"Menambahkan alternatif\", en: \"Added alternative\" },\n  \"activity.alternative_updated\": { id: \"Mengubah data alternatif\", en: \"Updated alternative data\" },\n  \"activity.alternative_deleted\": { id: \"Menghapus alternatif\", en: \"Deleted alternative\" },\n  \"activity.criteria_added\": { id: \"Menambahkan kriteria\", en: \"Added criteria\" },\n  \"activity.criteria_updated\": { id: \"Mengubah kriteria\", en: \"Updated criteria\" },\n  \"activity.criteria_deleted\": { id: \"Menghapus kriteria\", en: \"Deleted criteria\" },\n  \"activity.subcriteria_added\": { id: \"Menambahkan sub-kriteria\", en: \"Added sub-criteria\" },\n  \"activity.subcriteria_updated\": { id: \"Mengubah sub-kriteria\", en: \"Updated sub-criteria\" },\n  \"activity.subcriteria_deleted\": { id: \"Menghapus sub-kriteria\", en: \"Deleted sub-criteria\" },\n  \"activity.penilaian_updated\": { id: \"Memperbarui penilaian\", en: \"Updated assessments\" },\n  \"activity.minutes_ago\": { id: \"menit yang lalu\", en: \"minutes ago\" },\n  \"activity.hours_ago\": { id: \"jam yang lalu\", en: \"hours ago\" },\n\n  // Toasts\n  \"toast.dark_mode_enabled\": { id: \"Mode gelap diaktifkan\", en: \"Dark mode enabled\" },\n  \"toast.light_mode_enabled\": { id: \"Mode terang diaktifkan\", en: \"Light mode enabled\" },\n  \"toast.language_changed_id\": { id: \"Bahasa diubah ke Indonesia\", en: \"Language changed to Indonesian\" },\n  \"toast.language_changed_en\": { id: \"Bahasa diubah ke English\", en: \"Language changed to English\" },\n  \"toast.password_changed\": { id: \"Password berhasil diubah\", en: \"Password changed successfully\" },\n  \"toast.all_fields_required\": { id: \"Semua field harus diisi\", en: \"All fields are required\" },\n  \"toast.password_mismatch\": { id: \"Password baru tidak cocok\", en: \"New passwords don't match\" },\n  \"toast.password_min_length\": { id: \"Password minimal 6 karakter\", en: \"Password must be at least 6 characters\" },\n  \"toast.app_name_saved\": { id: \"Nama aplikasi berhasil diubah\", en: \"App name updated successfully\" },\n  \"toast.report_settings_saved\": {\n    id: \"Pengaturan laporan berhasil disimpan\",\n    en: \"Report settings saved successfully\",\n  },\n  \"toast.settings_saved\": { id: \"Pengaturan berhasil disimpan\", en: \"Settings saved successfully\" },\n  \"toast.login_success\": { id: \"Login berhasil! Selamat datang kembali.\", en: \"Login successful! Welcome back.\" },\n  \"toast.register_success\": {\n    id: \"Registrasi berhasil! Akun Anda telah dibuat.\",\n    en: \"Registration successful! Your account has been created.\",\n  },\n  \"toast.email_already_registered\": { id: \"Email sudah terdaftar\", en: \"Email already registered\" },\n}\n\ninterface LanguageContextType {\n  language: Language\n  setLanguage: (lang: Language) => void\n  t: (key: string) => string\n}\n\nconst LanguageContext = createContext<LanguageContextType | null>(null)\n\nexport function LanguageProvider({ children }: { children: ReactNode }) {\n  const [language, setLanguageState] = useState<Language>(\"id\")\n\n  useEffect(() => {\n    const savedLang = localStorage.getItem(\"spk_language\") as Language\n    if (savedLang && (savedLang === \"id\" || savedLang === \"en\")) {\n      setLanguageState(savedLang)\n    }\n  }, [])\n\n  const setLanguage = (lang: Language) => {\n    setLanguageState(lang)\n    localStorage.setItem(\"spk_language\", lang)\n  }\n\n  const t = (key: string): string => {\n    const translation = translations[key]\n    if (!translation) return key\n    return translation[language] || key\n  }\n\n  return <LanguageContext.Provider value={{ language, setLanguage, t }}>{children}</LanguageContext.Provider>\n}\n\nexport function useLanguage() {\n  const context = useContext(LanguageContext)\n  if (!context) {\n    throw new Error(\"useLanguage must be used within LanguageProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1638, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/lib/settings-data.ts"],"sourcesContent":["export interface DashboardWidgets {\n  statsCards: boolean\n  methodChart: boolean\n  quickActions: boolean\n  topRanking: boolean\n  recentActivity: boolean\n  systemStatus: boolean\n}\n\nexport interface BackupSettings {\n  enabled: boolean\n  frequency: 'daily' | 'weekly' | 'monthly'\n  lastBackup: Date | string | null\n  nextBackup: Date | string | null\n}\n\nexport interface ReportSettings {\n  organizationName: string\n  location: string\n  leaderName: string\n  leaderTitle: string\n  logoUrl: string\n}\n\nexport interface AppSettings {\n  appName: string\n  appSubtitle: string\n  appLogoUrl: string\n}\n\nexport interface SettingsSnapshot {\n  dashboardWidgets: DashboardWidgets\n  backupSettings: BackupSettings\n  reportSettings: ReportSettings\n  appSettings: AppSettings\n}\n\nexport type SettingsKey = keyof SettingsSnapshot\n\nexport const SETTINGS_KEYS: SettingsKey[] = ['dashboardWidgets', 'backupSettings', 'reportSettings', 'appSettings']\n\nexport const defaultDashboardWidgets: DashboardWidgets = {\n  statsCards: true,\n  methodChart: true,\n  quickActions: true,\n  topRanking: true,\n  recentActivity: true,\n  systemStatus: true,\n}\n\nexport const defaultBackupSettings: BackupSettings = {\n  enabled: true,\n  frequency: 'weekly',\n  lastBackup: null,\n  nextBackup: null,\n}\n\nexport const defaultReportSettings: ReportSettings = {\n  organizationName: 'Sistem Pendukung Keputusan Multi Metode',\n  location: 'Jakarta',\n  leaderName: 'Nama Ketua',\n  leaderTitle: 'NIP. 123456789',\n  logoUrl: '',\n}\n\nexport const defaultAppSettings: AppSettings = {\n  appName: 'SPK Multi-Metode',\n  appSubtitle: 'SAW | AHP | TOPSIS',\n  appLogoUrl: '',\n}\n\nexport function getDefaultSettings(): SettingsSnapshot {\n  return {\n    dashboardWidgets: { ...defaultDashboardWidgets },\n    backupSettings: { ...defaultBackupSettings },\n    reportSettings: { ...defaultReportSettings },\n    appSettings: { ...defaultAppSettings },\n  }\n}\n\nexport function calculateNextBackup(frequency: BackupSettings['frequency'], from: Date = new Date()): Date {\n  const next = new Date(from)\n  switch (frequency) {\n    case 'daily':\n      next.setDate(next.getDate() + 1)\n      break\n    case 'weekly':\n      next.setDate(next.getDate() + 7)\n      break\n    case 'monthly':\n      next.setMonth(next.getMonth() + 1)\n      break\n  }\n  return next\n}\n\nexport function deserializeBackupSettings(data?: Partial<BackupSettings> | null): BackupSettings {\n  const merged = { ...defaultBackupSettings, ...(data || {}) }\n  return {\n    ...merged,\n    lastBackup: merged.lastBackup ? new Date(merged.lastBackup) : null,\n    nextBackup: merged.nextBackup ? new Date(merged.nextBackup) : null,\n  }\n}\n\nexport function serializeBackupSettings(settings: BackupSettings) {\n  return {\n    ...settings,\n    lastBackup: settings.lastBackup ? new Date(settings.lastBackup).toISOString() : null,\n    nextBackup: settings.nextBackup ? new Date(settings.nextBackup).toISOString() : null,\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAuCO,MAAM,gBAA+B;IAAC;IAAoB;IAAkB;IAAkB;CAAc;AAE5G,MAAM,0BAA4C;IACvD,YAAY;IACZ,aAAa;IACb,cAAc;IACd,YAAY;IACZ,gBAAgB;IAChB,cAAc;AAChB;AAEO,MAAM,wBAAwC;IACnD,SAAS;IACT,WAAW;IACX,YAAY;IACZ,YAAY;AACd;AAEO,MAAM,wBAAwC;IACnD,kBAAkB;IAClB,UAAU;IACV,YAAY;IACZ,aAAa;IACb,SAAS;AACX;AAEO,MAAM,qBAAkC;IAC7C,SAAS;IACT,aAAa;IACb,YAAY;AACd;AAEO,SAAS;IACd,OAAO;QACL,kBAAkB;YAAE,GAAG,uBAAuB;QAAC;QAC/C,gBAAgB;YAAE,GAAG,qBAAqB;QAAC;QAC3C,gBAAgB;YAAE,GAAG,qBAAqB;QAAC;QAC3C,aAAa;YAAE,GAAG,kBAAkB;QAAC;IACvC;AACF;AAEO,SAAS,oBAAoB,SAAsC,EAAE,OAAa,IAAI,MAAM;IACjG,MAAM,OAAO,IAAI,KAAK;IACtB,OAAQ;QACN,KAAK;YACH,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK;YAC9B;QACF,KAAK;YACH,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK;YAC9B;QACF,KAAK;YACH,KAAK,QAAQ,CAAC,KAAK,QAAQ,KAAK;YAChC;IACJ;IACA,OAAO;AACT;AAEO,SAAS,0BAA0B,IAAqC;IAC7E,MAAM,SAAS;QAAE,GAAG,qBAAqB;QAAE,GAAI,QAAQ,CAAC,CAAC;IAAE;IAC3D,OAAO;QACL,GAAG,MAAM;QACT,YAAY,OAAO,UAAU,GAAG,IAAI,KAAK,OAAO,UAAU,IAAI;QAC9D,YAAY,OAAO,UAAU,GAAG,IAAI,KAAK,OAAO,UAAU,IAAI;IAChE;AACF;AAEO,SAAS,wBAAwB,QAAwB;IAC9D,OAAO;QACL,GAAG,QAAQ;QACX,YAAY,SAAS,UAAU,GAAG,IAAI,KAAK,SAAS,UAAU,EAAE,WAAW,KAAK;QAChF,YAAY,SAAS,UAAU,GAAG,IAAI,KAAK,SAAS,UAAU,EAAE,WAAW,KAAK;IAClF;AACF"}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/lib/settings-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport { useToast } from \"@/components/ui/ios-toast\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport {\n  AppSettings,\n  BackupSettings,\n  DashboardWidgets,\n  ReportSettings,\n  SettingsKey,\n  SettingsSnapshot,\n  calculateNextBackup,\n  deserializeBackupSettings,\n  getDefaultSettings,\n  serializeBackupSettings,\n  defaultAppSettings,\n  defaultReportSettings,\n  defaultDashboardWidgets,\n  defaultBackupSettings,\n} from \"@/lib/settings-data\"\n\ntype PerformBackupOptions = {\n  download?: boolean\n}\n\ninterface SettingsContextType {\n  dashboardWidgets: DashboardWidgets\n  backupSettings: BackupSettings\n  reportSettings: ReportSettings\n  appSettings: AppSettings\n  updateDashboardWidgets: (widgets: Partial<DashboardWidgets>) => void\n  updateBackupSettings: (settings: Partial<BackupSettings>) => void\n  updateReportSettings: (settings: Partial<ReportSettings>) => void\n  updateAppSettings: (settings: Partial<AppSettings>) => void\n  performBackup: (options?: PerformBackupOptions) => Promise<void>\n}\n\nconst SettingsContext = createContext<SettingsContextType | null>(null)\n\nconst SETTINGS_CACHE_KEY = \"spk_settings_cache\"\n\nconst getCachedSettings = (): Partial<SettingsSnapshot> | null => {\n  if (typeof window === \"undefined\") return null\n  try {\n    const raw = localStorage.getItem(SETTINGS_CACHE_KEY)\n    return raw ? (JSON.parse(raw) as Partial<SettingsSnapshot>) : null\n  } catch (error) {\n    console.error(\"Failed to read cached settings\", error)\n    return null\n  }\n}\n\nconst cacheSettingsSnapshot = (snapshot: Partial<SettingsSnapshot>) => {\n  if (typeof window === \"undefined\") return\n  try {\n    const existing = getCachedSettings() || {}\n    const merged = { ...existing, ...snapshot }\n    localStorage.setItem(SETTINGS_CACHE_KEY, JSON.stringify(merged))\n  } catch (error) {\n    console.error(\"Failed to cache settings\", error)\n  }\n}\n\nexport function SettingsProvider({ children }: { children: ReactNode }) {\n  const defaults = getDefaultSettings()\n\n  const [dashboardWidgets, setDashboardWidgets] = useState<DashboardWidgets>(defaultDashboardWidgets)\n  const [backupSettings, setBackupSettings] = useState<BackupSettings>(defaultBackupSettings)\n  const [reportSettings, setReportSettings] = useState<ReportSettings>(defaultReportSettings)\n  const [appSettings, setAppSettings] = useState<AppSettings>(defaultAppSettings)\n  const { showToast } = useToast()\n  const { logActivity } = useAuth()\n\n  const applySettingsSnapshot = (snapshot: Partial<SettingsSnapshot>) => {\n    if (snapshot.dashboardWidgets) {\n      setDashboardWidgets((prev) => ({ ...prev, ...snapshot.dashboardWidgets! }))\n    }\n    if (snapshot.reportSettings) {\n      setReportSettings((prev) => ({ ...prev, ...snapshot.reportSettings! }))\n    }\n    if (snapshot.appSettings) {\n      setAppSettings((prev) => ({ ...prev, ...snapshot.appSettings! }))\n    }\n    if (snapshot.backupSettings) {\n      let mergedBackup = deserializeBackupSettings(snapshot.backupSettings)\n      if (mergedBackup.enabled && !mergedBackup.nextBackup) {\n        mergedBackup = { ...mergedBackup, nextBackup: calculateNextBackup(mergedBackup.frequency) }\n      }\n      setBackupSettings(mergedBackup)\n    }\n  }\n\n  useEffect(() => {\n    const cached = getCachedSettings()\n    if (cached) {\n      applySettingsSnapshot(cached)\n    }\n\n    const fetchSettings = async () => {\n      try {\n        const response = await fetch(\"/api/settings\", { cache: \"no-store\" })\n        if (!response.ok) throw new Error(\"Failed to load settings\")\n        const data = await response.json()\n\n        applySettingsSnapshot({\n          dashboardWidgets: { ...defaults.dashboardWidgets, ...(data.dashboardWidgets || {}) },\n          reportSettings: { ...defaults.reportSettings, ...(data.reportSettings || {}) },\n          appSettings: { ...defaults.appSettings, ...(data.appSettings || {}) },\n          backupSettings: data.backupSettings || defaults.backupSettings,\n        })\n        cacheSettingsSnapshot(data)\n      } catch (error) {\n        console.warn(\"Failed to fetch settings, using cached values\", error)\n        const cachedFallback = getCachedSettings()\n        if (cachedFallback) {\n          applySettingsSnapshot({\n            dashboardWidgets: cachedFallback.dashboardWidgets || defaults.dashboardWidgets,\n            reportSettings: cachedFallback.reportSettings || defaults.reportSettings,\n            appSettings: cachedFallback.appSettings || defaults.appSettings,\n            backupSettings: cachedFallback.backupSettings || defaults.backupSettings,\n          })\n        }\n      }\n    }\n\n    fetchSettings()\n  }, [])\n\n  const persistSetting = async (key: SettingsKey, data: unknown) => {\n    try {\n      await fetch(\"/api/settings\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ key, data }),\n      })\n    } catch (error) {\n      console.warn(\"Failed to persist setting\", error)\n      showToast(\"Gagal menyimpan pengaturan ke server\", \"error\")\n    }\n  }\n\n  useEffect(() => {\n    if (!backupSettings.enabled || !backupSettings.nextBackup) return\n\n    const checkBackup = () => {\n      const now = new Date()\n      if (backupSettings.nextBackup && now >= backupSettings.nextBackup) {\n        void performBackup()\n      }\n    }\n\n    const interval = setInterval(checkBackup, 60000)\n    return () => clearInterval(interval)\n  }, [backupSettings.enabled, backupSettings.nextBackup])\n\n  const guardedUpdate = <T extends SettingsKey>(\n    key: T,\n    updater: (prev: SettingsSnapshot[T]) => SettingsSnapshot[T],\n  ) => {\n    switch (key) {\n      case \"dashboardWidgets\":\n        setDashboardWidgets((prev) => {\n          const updated = updater(prev)\n          void persistSetting(\"dashboardWidgets\", updated)\n          cacheSettingsSnapshot({ dashboardWidgets: updated })\n          return updated\n        })\n        break\n      case \"backupSettings\":\n        setBackupSettings((prev) => {\n          const updated = updater(prev)\n          void persistSetting(\"backupSettings\", serializeBackupSettings(updated))\n          cacheSettingsSnapshot({ backupSettings: updated })\n          return updated\n        })\n        break\n      case \"reportSettings\":\n        setReportSettings((prev) => {\n          const updated = updater(prev)\n          void persistSetting(\"reportSettings\", updated)\n          cacheSettingsSnapshot({ reportSettings: updated })\n          return updated\n        })\n        break\n      case \"appSettings\":\n        setAppSettings((prev) => {\n          const updated = updater(prev)\n          void persistSetting(\"appSettings\", updated)\n          cacheSettingsSnapshot({ appSettings: updated })\n          return updated\n        })\n        break\n    }\n  }\n\n  const updateDashboardWidgets = (widgets: Partial<DashboardWidgets>) => {\n    guardedUpdate(\"dashboardWidgets\", (prev) => ({ ...prev, ...widgets }))\n  }\n\n  const updateBackupSettings = (settings: Partial<BackupSettings>) => {\n    guardedUpdate(\"backupSettings\", (prev) => {\n      const updated = { ...prev, ...settings }\n      if (settings.frequency && settings.frequency !== prev.frequency) {\n        updated.nextBackup = calculateNextBackup(settings.frequency)\n      }\n      if (updated.enabled && !updated.nextBackup) {\n        updated.nextBackup = calculateNextBackup(updated.frequency)\n      }\n      if (!updated.enabled) {\n        updated.nextBackup = null\n      }\n      return updated\n    })\n  }\n\n  const updateReportSettings = (settings: Partial<ReportSettings>) => {\n    guardedUpdate(\"reportSettings\", (prev) => ({ ...prev, ...settings }))\n    logActivity(\"activity.settings_updated\")\n  }\n\n  const updateAppSettings = (settings: Partial<AppSettings>) => {\n    guardedUpdate(\"appSettings\", (prev) => ({ ...prev, ...settings }))\n    logActivity(\"activity.settings_updated\")\n  }\n\n  const performBackup = async (options?: PerformBackupOptions) => {\n    try {\n      const response = await fetch(\"/api/backup\", { method: \"POST\" })\n      if (!response.ok) {\n        throw new Error(\"Backup request failed\")\n      }\n\n      const payload = (await response.json()) as {\n        fileName: string\n        contents: { generatedAt: string; [key: string]: unknown }\n      }\n\n      const backupTime = payload.contents.generatedAt ? new Date(payload.contents.generatedAt) : new Date()\n\n      guardedUpdate(\"backupSettings\", (prev) => ({\n        ...prev,\n        lastBackup: backupTime,\n        nextBackup: calculateNextBackup(prev.frequency, backupTime),\n      }))\n\n      if (options?.download) {\n        const blob = new Blob([JSON.stringify(payload.contents, null, 2)], {\n          type: \"application/json\",\n        })\n        const url = URL.createObjectURL(blob)\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.download = payload.fileName\n        document.body.appendChild(link)\n        link.click()\n        link.remove()\n        URL.revokeObjectURL(url)\n      }\n\n      showToast(\"Backup berhasil dilakukan\", \"success\")\n      logActivity(\"activity.backup_complete\")\n    } catch (error) {\n      console.error(\"Failed to perform backup\", error)\n      showToast(\"Gagal melakukan backup\", \"error\")\n    }\n  }\n\n  return (\n    <SettingsContext.Provider\n      value={{\n        dashboardWidgets,\n        backupSettings,\n        reportSettings,\n        appSettings,\n        updateDashboardWidgets,\n        updateBackupSettings,\n        updateReportSettings,\n        updateAppSettings,\n        performBackup,\n      }}\n    >\n      {children}\n    </SettingsContext.Provider>\n  )\n}\n\nexport function useSettings() {\n  const context = useContext(SettingsContext)\n  if (!context) {\n    throw new Error(\"useSettings must be used within SettingsProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAsCA,MAAM,gCAAkB,IAAA,qVAAa,EAA6B;AAElE,MAAM,qBAAqB;AAE3B,MAAM,oBAAoB;IACxB,wCAAmC,OAAO;;;AAQ5C;AAEA,MAAM,wBAAwB,CAAC;IAC7B,wCAAmC;;;AAQrC;AAEO,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;IACpE,MAAM,WAAW,IAAA,6IAAkB;IAEnC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gVAAQ,EAAmB,kJAAuB;IAClG,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gVAAQ,EAAiB,gJAAqB;IAC1F,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gVAAQ,EAAiB,gJAAqB;IAC1F,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAc,6IAAkB;IAC9E,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6IAAQ;IAC9B,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,kIAAO;IAE/B,MAAM,wBAAwB,CAAC;QAC7B,IAAI,SAAS,gBAAgB,EAAE;YAC7B,oBAAoB,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,GAAG,SAAS,gBAAgB;gBAAE,CAAC;QAC3E;QACA,IAAI,SAAS,cAAc,EAAE;YAC3B,kBAAkB,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,GAAG,SAAS,cAAc;gBAAE,CAAC;QACvE;QACA,IAAI,SAAS,WAAW,EAAE;YACxB,eAAe,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,GAAG,SAAS,WAAW;gBAAE,CAAC;QACjE;QACA,IAAI,SAAS,cAAc,EAAE;YAC3B,IAAI,eAAe,IAAA,oJAAyB,EAAC,SAAS,cAAc;YACpE,IAAI,aAAa,OAAO,IAAI,CAAC,aAAa,UAAU,EAAE;gBACpD,eAAe;oBAAE,GAAG,YAAY;oBAAE,YAAY,IAAA,8IAAmB,EAAC,aAAa,SAAS;gBAAE;YAC5F;YACA,kBAAkB;QACpB;IACF;IAEA,IAAA,iVAAS,EAAC;QACR,MAAM,SAAS;QACf,IAAI,QAAQ;YACV,sBAAsB;QACxB;QAEA,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,iBAAiB;oBAAE,OAAO;gBAAW;gBAClE,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;gBAClC,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,sBAAsB;oBACpB,kBAAkB;wBAAE,GAAG,SAAS,gBAAgB;wBAAE,GAAI,KAAK,gBAAgB,IAAI,CAAC,CAAC;oBAAE;oBACnF,gBAAgB;wBAAE,GAAG,SAAS,cAAc;wBAAE,GAAI,KAAK,cAAc,IAAI,CAAC,CAAC;oBAAE;oBAC7E,aAAa;wBAAE,GAAG,SAAS,WAAW;wBAAE,GAAI,KAAK,WAAW,IAAI,CAAC,CAAC;oBAAE;oBACpE,gBAAgB,KAAK,cAAc,IAAI,SAAS,cAAc;gBAChE;gBACA,sBAAsB;YACxB,EAAE,OAAO,OAAO;gBACd,QAAQ,IAAI,CAAC,iDAAiD;gBAC9D,MAAM,iBAAiB;gBACvB,IAAI,gBAAgB;oBAClB,sBAAsB;wBACpB,kBAAkB,eAAe,gBAAgB,IAAI,SAAS,gBAAgB;wBAC9E,gBAAgB,eAAe,cAAc,IAAI,SAAS,cAAc;wBACxE,aAAa,eAAe,WAAW,IAAI,SAAS,WAAW;wBAC/D,gBAAgB,eAAe,cAAc,IAAI,SAAS,cAAc;oBAC1E;gBACF;YACF;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB,OAAO,KAAkB;QAC9C,IAAI;YACF,MAAM,MAAM,iBAAiB;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAK;gBAAK;YACnC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,IAAI,CAAC,6BAA6B;YAC1C,UAAU,wCAAwC;QACpD;IACF;IAEA,IAAA,iVAAS,EAAC;QACR,IAAI,CAAC,eAAe,OAAO,IAAI,CAAC,eAAe,UAAU,EAAE;QAE3D,MAAM,cAAc;YAClB,MAAM,MAAM,IAAI;YAChB,IAAI,eAAe,UAAU,IAAI,OAAO,eAAe,UAAU,EAAE;gBACjE,KAAK;YACP;QACF;QAEA,MAAM,WAAW,YAAY,aAAa;QAC1C,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC,eAAe,OAAO;QAAE,eAAe,UAAU;KAAC;IAEtD,MAAM,gBAAgB,CACpB,KACA;QAEA,OAAQ;YACN,KAAK;gBACH,oBAAoB,CAAC;oBACnB,MAAM,UAAU,QAAQ;oBACxB,KAAK,eAAe,oBAAoB;oBACxC,sBAAsB;wBAAE,kBAAkB;oBAAQ;oBAClD,OAAO;gBACT;gBACA;YACF,KAAK;gBACH,kBAAkB,CAAC;oBACjB,MAAM,UAAU,QAAQ;oBACxB,KAAK,eAAe,kBAAkB,IAAA,kJAAuB,EAAC;oBAC9D,sBAAsB;wBAAE,gBAAgB;oBAAQ;oBAChD,OAAO;gBACT;gBACA;YACF,KAAK;gBACH,kBAAkB,CAAC;oBACjB,MAAM,UAAU,QAAQ;oBACxB,KAAK,eAAe,kBAAkB;oBACtC,sBAAsB;wBAAE,gBAAgB;oBAAQ;oBAChD,OAAO;gBACT;gBACA;YACF,KAAK;gBACH,eAAe,CAAC;oBACd,MAAM,UAAU,QAAQ;oBACxB,KAAK,eAAe,eAAe;oBACnC,sBAAsB;wBAAE,aAAa;oBAAQ;oBAC7C,OAAO;gBACT;gBACA;QACJ;IACF;IAEA,MAAM,yBAAyB,CAAC;QAC9B,cAAc,oBAAoB,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,GAAG,OAAO;YAAC,CAAC;IACtE;IAEA,MAAM,uBAAuB,CAAC;QAC5B,cAAc,kBAAkB,CAAC;YAC/B,MAAM,UAAU;gBAAE,GAAG,IAAI;gBAAE,GAAG,QAAQ;YAAC;YACvC,IAAI,SAAS,SAAS,IAAI,SAAS,SAAS,KAAK,KAAK,SAAS,EAAE;gBAC/D,QAAQ,UAAU,GAAG,IAAA,8IAAmB,EAAC,SAAS,SAAS;YAC7D;YACA,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,UAAU,EAAE;gBAC1C,QAAQ,UAAU,GAAG,IAAA,8IAAmB,EAAC,QAAQ,SAAS;YAC5D;YACA,IAAI,CAAC,QAAQ,OAAO,EAAE;gBACpB,QAAQ,UAAU,GAAG;YACvB;YACA,OAAO;QACT;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,cAAc,kBAAkB,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,GAAG,QAAQ;YAAC,CAAC;QACnE,YAAY;IACd;IAEA,MAAM,oBAAoB,CAAC;QACzB,cAAc,eAAe,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,GAAG,QAAQ;YAAC,CAAC;QAChE,YAAY;IACd;IAEA,MAAM,gBAAgB,OAAO;QAC3B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,eAAe;gBAAE,QAAQ;YAAO;YAC7D,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,UAAW,MAAM,SAAS,IAAI;YAKpC,MAAM,aAAa,QAAQ,QAAQ,CAAC,WAAW,GAAG,IAAI,KAAK,QAAQ,QAAQ,CAAC,WAAW,IAAI,IAAI;YAE/F,cAAc,kBAAkB,CAAC,OAAS,CAAC;oBACzC,GAAG,IAAI;oBACP,YAAY;oBACZ,YAAY,IAAA,8IAAmB,EAAC,KAAK,SAAS,EAAE;gBAClD,CAAC;YAED,IAAI,SAAS,UAAU;gBACrB,MAAM,OAAO,IAAI,KAAK;oBAAC,KAAK,SAAS,CAAC,QAAQ,QAAQ,EAAE,MAAM;iBAAG,EAAE;oBACjE,MAAM;gBACR;gBACA,MAAM,MAAM,IAAI,eAAe,CAAC;gBAChC,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,KAAK,IAAI,GAAG;gBACZ,KAAK,QAAQ,GAAG,QAAQ,QAAQ;gBAChC,SAAS,IAAI,CAAC,WAAW,CAAC;gBAC1B,KAAK,KAAK;gBACV,KAAK,MAAM;gBACX,IAAI,eAAe,CAAC;YACtB;YAEA,UAAU,6BAA6B;YACvC,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,UAAU,0BAA0B;QACtC;IACF;IAEA,qBACE,6WAAC,gBAAgB,QAAQ;QACvB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}