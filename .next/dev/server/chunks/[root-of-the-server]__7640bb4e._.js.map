{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/decision-support-system/app/api/profile/%5BuserId%5D/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport path from \"path\"\nimport { promises as fs } from \"fs\"\n\nconst PROFILE_FILE = path.join(process.cwd(), \"profiles-cache.json\")\n\nconst readProfiles = async (): Promise<Record<string, any>> => {\n  try {\n    const data = await fs.readFile(PROFILE_FILE, \"utf8\")\n    return JSON.parse(data)\n  } catch (error) {\n    return {}\n  }\n}\n\nconst writeProfiles = async (profiles: Record<string, any>) => {\n  await fs.writeFile(PROFILE_FILE, JSON.stringify(profiles, null, 2), \"utf8\")\n}\n\nexport async function GET(_: Request, { params }: { params: { userId: string } }) {\n  const profiles = await readProfiles()\n  const profile = profiles[params.userId] || null\n  return NextResponse.json(profile ?? {})\n}\n\nexport async function PATCH(request: Request, { params }: { params: { userId: string } }) {\n  try {\n    const body = await request.json()\n    const { nama, email, avatar } = body as { nama?: string; email?: string; avatar?: string }\n    const profiles = await readProfiles()\n    profiles[params.userId] = {\n      ...(profiles[params.userId] || {}),\n      ...(nama !== undefined ? { nama } : {}),\n      ...(email !== undefined ? { email } : {}),\n      ...(avatar !== undefined ? { avatar } : {}),\n    }\n    await writeProfiles(profiles)\n    return NextResponse.json(profiles[params.userId])\n  } catch (error) {\n    return NextResponse.json({ error: \"Failed to update profile\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,eAAe,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAE9C,MAAM,eAAe;IACnB,IAAI;QACF,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,cAAc;QAC7C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,OAAO,CAAC;IACV;AACF;AAEA,MAAM,gBAAgB,OAAO;IAC3B,MAAM,yGAAE,CAAC,SAAS,CAAC,cAAc,KAAK,SAAS,CAAC,UAAU,MAAM,IAAI;AACtE;AAEO,eAAe,IAAI,CAAU,EAAE,EAAE,MAAM,EAAkC;IAC9E,MAAM,WAAW,MAAM;IACvB,MAAM,UAAU,QAAQ,CAAC,OAAO,MAAM,CAAC,IAAI;IAC3C,OAAO,+QAAY,CAAC,IAAI,CAAC,WAAW,CAAC;AACvC;AAEO,eAAe,MAAM,OAAgB,EAAE,EAAE,MAAM,EAAkC;IACtF,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG;QAChC,MAAM,WAAW,MAAM;QACvB,QAAQ,CAAC,OAAO,MAAM,CAAC,GAAG;YACxB,GAAI,QAAQ,CAAC,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;YACjC,GAAI,SAAS,YAAY;gBAAE;YAAK,IAAI,CAAC,CAAC;YACtC,GAAI,UAAU,YAAY;gBAAE;YAAM,IAAI,CAAC,CAAC;YACxC,GAAI,WAAW,YAAY;gBAAE;YAAO,IAAI,CAAC,CAAC;QAC5C;QACA,MAAM,cAAc;QACpB,OAAO,+QAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,MAAM,CAAC;IAClD,EAAE,OAAO,OAAO;QACd,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF"}}]
}